
#import <Foundation/Foundation.h>
typedef struct {
    Byte feasibleEntry;
    Byte *badDestination;
    unsigned int controlInherent;
    Byte currentCrystal;
	int westernPraise;
	int examineion;
	int personStern;
} BrandDearDisturbData;

NSString *StringFromBrandDearDisturbData(BrandDearDisturbData *data);


//: Friday
BrandDearDisturbData commonBoastArrowPreference = (BrandDearDisturbData){119, (Byte []){49, 5, 30, 19, 22, 14, 45}, 6, 200, 63, 210, 78};

//: day_night
BrandDearDisturbData componentCombinedAlert = (BrandDearDisturbData){118, (Byte []){18, 23, 15, 41, 24, 31, 17, 30, 2, 114}, 9, 159, 160, 142, 140};

//: please_try_again
BrandDearDisturbData componentSceneFormat = (BrandDearDisturbData){201, (Byte []){185, 165, 172, 168, 186, 172, 150, 189, 187, 176, 150, 168, 174, 168, 160, 167, 144}, 16, 184, 240, 8, 38};

//: day_am
BrandDearDisturbData widgetRecordAvoidTimer = (BrandDearDisturbData){185, (Byte []){221, 216, 192, 230, 216, 212, 247}, 6, 200, 100, 18, 145};

//: WP
BrandDearDisturbData colorBoastMessage = (BrandDearDisturbData){119, (Byte []){32, 39, 178}, 2, 248, 239, 221, 2};

//: Web
BrandDearDisturbData viewSternPreference = (BrandDearDisturbData){120, (Byte []){47, 29, 26, 178}, 3, 193, 25, 51, 166};

//: before_yesterday
BrandDearDisturbData featureAccomplishFormat = (BrandDearDisturbData){237, (Byte []){143, 136, 139, 130, 159, 136, 178, 148, 136, 158, 153, 136, 159, 137, 140, 148, 111}, 16, 231, 93, 93, 15};

//: retracted_message
BrandDearDisturbData layoutForeverMessage = (BrandDearDisturbData){5, (Byte []){119, 96, 113, 119, 100, 102, 113, 96, 97, 90, 104, 96, 118, 118, 100, 98, 96, 118}, 17, 174, 110, 223, 94};

//: Saturday
BrandDearDisturbData styleHireKey = (BrandDearDisturbData){125, (Byte []){46, 28, 9, 8, 15, 25, 28, 4, 183}, 8, 208, 208, 64, 225};

//: day_pm
BrandDearDisturbData layoutFormatKey = (BrandDearDisturbData){240, (Byte []){148, 145, 137, 175, 128, 157, 221}, 6, 245, 67, 131, 210};

//: ThemeSystemVividWholeTopMark
BrandDearDisturbData layoutJungleError = (BrandDearDisturbData){234, (Byte []){190, 130, 143, 135, 143, 185, 147, 153, 158, 143, 135, 188, 131, 156, 131, 142, 189, 130, 133, 134, 143, 190, 133, 154, 167, 139, 152, 129, 244}, 28, 160, 209, 174, 107};

//: Android
BrandDearDisturbData widgetPutWholeName = (BrandDearDisturbData){229, (Byte []){164, 139, 129, 151, 138, 140, 129, 219}, 7, 192, 198, 136, 185};

//: message_opposite
BrandDearDisturbData themeGiftedError = (BrandDearDisturbData){82, (Byte []){63, 55, 33, 33, 51, 53, 55, 13, 61, 34, 34, 61, 33, 59, 38, 55, 101}, 16, 161, 203, 68, 76};

//: %zd-%zd-%zd
BrandDearDisturbData colorDiscourageDevice = (BrandDearDisturbData){71, (Byte []){98, 61, 35, 106, 98, 61, 35, 106, 98, 61, 35, 198}, 11, 253, 151, 65, 226};

//: Mac
BrandDearDisturbData layoutCrystalPlatform = (BrandDearDisturbData){71, (Byte []){10, 38, 36, 121}, 3, 185, 247, 164, 221};

//: logged_another_device
BrandDearDisturbData coreDarkChickenEvent = (BrandDearDisturbData){125, (Byte []){17, 18, 26, 26, 24, 25, 34, 28, 19, 18, 9, 21, 24, 15, 34, 25, 24, 11, 20, 30, 24, 11}, 21, 169, 36, 162, 18};

//: Wednesday
BrandDearDisturbData viewDarkTitle = (BrandDearDisturbData){128, (Byte []){215, 229, 228, 238, 229, 243, 228, 225, 249, 235}, 9, 217, 225, 20, 143};

//: Sunday
BrandDearDisturbData coreOrientationEvent = (BrandDearDisturbData){178, (Byte []){225, 199, 220, 214, 211, 203, 146}, 6, 214, 211, 101, 215};

//: online_state_event_manager_on_line_busy
BrandDearDisturbData spacingGlobeAbstractMessage = (BrandDearDisturbData){75, (Byte []){36, 37, 39, 34, 37, 46, 20, 56, 63, 42, 63, 46, 20, 46, 61, 46, 37, 63, 20, 38, 42, 37, 42, 44, 46, 57, 20, 36, 37, 20, 39, 34, 37, 46, 20, 41, 62, 56, 50, 142}, 39, 174, 89, 70, 75};

//: Thursday
BrandDearDisturbData viewDictionKey = (BrandDearDisturbData){114, (Byte []){38, 26, 7, 0, 1, 22, 19, 11, 77}, 8, 216, 119, 16, 98};

//: yesterday
BrandDearDisturbData kDisturbData = (BrandDearDisturbData){33, (Byte []){88, 68, 82, 85, 68, 83, 69, 64, 88, 251}, 9, 192, 39, 15, 116};

//: wee_hours
BrandDearDisturbData componentSmoothKey = (BrandDearDisturbData){220, (Byte []){171, 185, 185, 131, 180, 179, 169, 174, 175, 64}, 9, 155, 217, 114, 177};

//: online_state_event_manager_off_line
BrandDearDisturbData viewFactoryBondLogger = (BrandDearDisturbData){212, (Byte []){187, 186, 184, 189, 186, 177, 139, 167, 160, 181, 160, 177, 139, 177, 162, 177, 186, 160, 139, 185, 181, 186, 181, 179, 177, 166, 139, 187, 178, 178, 139, 184, 189, 186, 177, 129}, 35, 215, 247, 31, 178};

//: postscript
BrandDearDisturbData componentSceneData = (BrandDearDisturbData){196, (Byte []){180, 171, 183, 176, 183, 167, 182, 173, 180, 176, 165}, 10, 182, 234, 196, 136};

//: ThemeSystemVividWholeAtMark
BrandDearDisturbData spacingEnvelopValue = (BrandDearDisturbData){60, (Byte []){104, 84, 89, 81, 89, 111, 69, 79, 72, 89, 81, 106, 85, 74, 85, 88, 107, 84, 83, 80, 89, 125, 72, 113, 93, 78, 87, 168}, 27, 225, 197, 81, 152};

//: wrong_password
BrandDearDisturbData modulePermissionKey = (BrandDearDisturbData){207, (Byte []){184, 189, 160, 161, 168, 144, 191, 174, 188, 188, 184, 160, 189, 171, 92}, 14, 160, 66, 108, 253};

//: group_member_info_activity_team_admin
BrandDearDisturbData commonFragmentUtility = (BrandDearDisturbData){193, (Byte []){166, 179, 174, 180, 177, 158, 172, 164, 172, 163, 164, 179, 158, 168, 175, 167, 174, 158, 160, 162, 181, 168, 183, 168, 181, 184, 158, 181, 164, 160, 172, 158, 160, 165, 172, 168, 175, 58}, 37, 228, 36, 76, 29};

//: login_failure
BrandDearDisturbData commonRedFormat = (BrandDearDisturbData){100, (Byte []){8, 11, 3, 13, 10, 59, 2, 5, 13, 8, 17, 22, 1, 85}, 13, 160, 112, 129, 138};

//: message_helper_you
BrandDearDisturbData moduleLikelyHelper = (BrandDearDisturbData){29, (Byte []){112, 120, 110, 110, 124, 122, 120, 66, 117, 120, 113, 109, 120, 111, 66, 100, 114, 104, 9}, 18, 238, 94, 173, 5};

//: iOS
BrandDearDisturbData componentBondFormat = (BrandDearDisturbData){30, (Byte []){119, 81, 77, 62}, 3, 251, 40, 155, 235};

//: Monday
BrandDearDisturbData featureNeedMessage = (BrandDearDisturbData){239, (Byte []){162, 128, 129, 139, 142, 150, 99}, 6, 203, 96, 23, 114};

//: net_state
BrandDearDisturbData screenAlbumSceneDevice = (BrandDearDisturbData){94, (Byte []){48, 59, 42, 1, 45, 42, 63, 42, 59, 108}, 9, 179, 55, 30, 15};

//: Tuesday
BrandDearDisturbData appCurrentDevice = (BrandDearDisturbData){226, (Byte []){182, 151, 135, 145, 134, 131, 155, 230}, 7, 217, 16, 228, 131};

//: online_state
BrandDearDisturbData featureDarkId = (BrandDearDisturbData){207, (Byte []){160, 161, 163, 166, 161, 170, 144, 188, 187, 174, 187, 170, 151}, 12, 165, 49, 81, 155};

//: 离线
BrandDearDisturbData kResponsePath = (BrandDearDisturbData){91, (Byte []){188, 253, 224, 188, 225, 228, 54}, 6, 202, 172, 145, 100};

//: PC
BrandDearDisturbData colorDirtyForwardHelper = (BrandDearDisturbData){105, (Byte []){57, 42, 27}, 2, 177, 248, 30, 141};

//: message_online
BrandDearDisturbData spacingAccomplishFormat = (BrandDearDisturbData){249, (Byte []){148, 156, 138, 138, 152, 158, 156, 166, 150, 151, 149, 144, 151, 156, 154}, 14, 151, 125, 181, 21};

//: group_member_info_activity_team_creator
BrandDearDisturbData layoutYearRobotText = (BrandDearDisturbData){71, (Byte []){32, 53, 40, 50, 55, 24, 42, 34, 42, 37, 34, 53, 24, 46, 41, 33, 40, 24, 38, 36, 51, 46, 49, 46, 51, 62, 24, 51, 34, 38, 42, 24, 36, 53, 34, 38, 51, 40, 53, 208}, 39, 242, 198, 87, 178};

// __DEBUG__
// __CLOSE_PRINT__
//
//  ThemeSystemVividWhole.m
//  NIMDemo
//
//  Created by ght on 15-1-27.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "ThemeSystemVividWhole.h"
#import "ThemeSystemVividWhole.h"
//: #import "LitheWhite.h"
#import "LitheWhite.h"
//: #import "LinkLimitSpotProgramLayout.h"
#import "LinkLimitSpotProgramLayout.h"
//: #import "StarPrintReceiveSend.h"
#import "StarPrintReceiveSend.h"
//: #import "UIImage+SystematicStoryLastingEnum.h"
#import "UIImage+SystematicStoryLastingEnum.h"
//: #import "TowerTinyGranularLarge.h"
#import "TowerTinyGranularLarge.h"
//: #import "LinkLimitSpotProgramLayout.h"
#import "LinkLimitSpotProgramLayout.h"
//: #import "TransformableHandsomeBulkyBundle.h"
#import "TransformableHandsomeBulkyBundle.h"
//: #import "NovelHillConverterInspector.h"
#import "NovelHillConverterInspector.h"
//: #import "MigrateLegacyStartDecompress.h"
#import "MigrateLegacyStartDecompress.h"
//: #import "PainterRotateForwardSpectrum.h"
#import "PainterRotateForwardSpectrum.h"
//: #import "AbstractPlaySageHelperPlugin.h"
#import "AbstractPlaySageHelperPlugin.h"
//: #import "NSDictionary+UnityAggregateFixPresenter.h"
#import "NSDictionary+UnityAggregateFixPresenter.h"
//: #import "HumorCozyOrganizerCollectionBeyond.h"
#import "HumorCozyOrganizerCollectionBeyond.h"

//: double OnedayTimeIntervalValue = 24*60*60; 
double commonUpEvent = 24*60*60; //一天的秒数

//: @implementation ThemeSystemVividWhole
@implementation ThemeSystemVividWhole

//: + (void)addRecentSessionMark:(NIMSession *)session type:(ThemeSystemVividWholeMarkType)type
+ (void)should:(NIMSession *)session proper:(ThemeSystemVividWholeMarkType)type
{
    //: NIMRecentSession *recent = [[NIMSDK sharedSDK].conversationManager recentSessionBySession:session];
    NIMRecentSession *recent = [[NIMSDK sharedSDK].conversationManager recentSessionBySession:session];
    //: if (recent)
    if (recent)
    {
        //: NSDictionary *localExt = recent.localExt?:@{};
        NSDictionary *localExt = recent.localExt?:@{};
        //: NSMutableDictionary *dict = [localExt mutableCopy];
        NSMutableDictionary *dict = [localExt mutableCopy];
        //: NSString *key = [ThemeSystemVividWhole keyForMarkType:type];
        NSString *key = [ThemeSystemVividWhole jump:type];
        //: [dict setObject:@(YES) forKey:key];
        [dict setObject:@(YES) forKey:key];
        //: [[NIMSDK sharedSDK].conversationManager updateRecentLocalExt:dict recentSession:recent];
        [[NIMSDK sharedSDK].conversationManager updateRecentLocalExt:dict recentSession:recent];
    }


}


//: + (NSString *)showNick:(NSString*)uid inSession:(NIMSession*)session{
+ (NSString *)canvas:(NSString*)uid aroundSession:(NIMSession*)session{

    //: NSString *nickname = nil;
    NSString *nickname = nil;
    //: if (session.sessionType == NIMSessionTypeTeam)
    if (session.sessionType == NIMSessionTypeTeam)
    {
        //: NIMTeamMember *member = [[NIMSDK sharedSDK].teamManager teamMember:uid inTeam:session.sessionId];
        NIMTeamMember *member = [[NIMSDK sharedSDK].teamManager teamMember:uid inTeam:session.sessionId];
        //: nickname = member.nickname;
        nickname = member.nickname;
    }
    //: else if (session.sessionType == NIMSessionTypeSuperTeam)
    else if (session.sessionType == NIMSessionTypeSuperTeam)
    {
        //: NIMTeamMember *member = [[NIMSDK sharedSDK].superTeamManager teamMember:uid inTeam:session.sessionId];
        NIMTeamMember *member = [[NIMSDK sharedSDK].superTeamManager teamMember:uid inTeam:session.sessionId];
        //: nickname = member.nickname;
        nickname = member.nickname;
    }
    //: if (!nickname.length) {
    if (!nickname.length) {
        //: RoundReportSheet *info = [[TowerTinyGranularLarge sharedKit] infoByUser:uid option:nil];
        RoundReportSheet *info = [[TowerTinyGranularLarge basicDragKit] screenOption:uid byProduct:nil];
        //: nickname = info.showName;
        nickname = info.showNumberro;
    }
    //: return nickname;
    return nickname;
}

//: + (NSString *)tipOnMessageRevokedLocal:(NSString *)postscript {
+ (NSString *)automaticallyIn:(NSString *)postscript {
    //: NSString *tip = [PluginTulipOptimize getTextWithKey:@"message_helper_you"];
    NSString *tip = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&moduleLikelyHelper)];//@"你".user_localized;
    //: NSString *msg = [NSString stringWithFormat:@"%@%@", tip,[PluginTulipOptimize getTextWithKey:@"retracted_message"]];
    NSString *msg = [NSString stringWithFormat:@"%@%@", tip,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&layoutForeverMessage)]];
    //: if (postscript.length != 0) {
    if (postscript.length != 0) {
        //: msg = [NSString stringWithFormat:@"%@%@.%@:%@", tip,[PluginTulipOptimize getTextWithKey:@"retracted_message"],[PluginTulipOptimize getTextWithKey:@"postscript"], postscript];
        msg = [NSString stringWithFormat:@"%@%@.%@:%@", tip,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&layoutForeverMessage)],[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&componentSceneData)], postscript];
    }
    //: return msg;
    return msg;
}


//: + (BOOL)canRevokeMessageByRole:(NIMMessage *)message
+ (BOOL)independent:(NIMMessage *)message
{
    //: BOOL isFromMe = [message.from isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
    BOOL isFromMe = [message.from isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
    //: BOOL isToMe = [message.session.sessionId isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
    BOOL isToMe = [message.session.sessionId isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
    //: BOOL isTeamManager = NO;
    BOOL isTeamManager = NO;
    //: if (message.session.sessionType == NIMSessionTypeTeam)
    if (message.session.sessionType == NIMSessionTypeTeam)
    {
        //: NIMTeamMember *member = [[NIMSDK sharedSDK].teamManager teamMember:[NIMSDK sharedSDK].loginManager.currentAccount inTeam:message.session.sessionId];
        NIMTeamMember *member = [[NIMSDK sharedSDK].teamManager teamMember:[NIMSDK sharedSDK].loginManager.currentAccount inTeam:message.session.sessionId];
        //: isTeamManager = member.type == NIMTeamMemberTypeOwner || member.type == NIMTeamMemberTypeManager;
        isTeamManager = member.type == NIMTeamMemberTypeOwner || member.type == NIMTeamMemberTypeManager;
    //: } else if (message.session.sessionType == NIMSessionTypeSuperTeam) {
    } else if (message.session.sessionType == NIMSessionTypeSuperTeam) {
        //: NIMTeamMember *member = [[NIMSDK sharedSDK].superTeamManager teamMember:[[NIMSDK sharedSDK].loginManager currentAccount]
        NIMTeamMember *member = [[NIMSDK sharedSDK].superTeamManager teamMember:[[NIMSDK sharedSDK].loginManager currentAccount]
                                                                         //: inTeam:message.session.sessionId];
                                                                         inTeam:message.session.sessionId];
        //: isTeamManager = (member.type == NIMTeamMemberTypeOwner || member.type == NIMTeamMemberTypeManager);
        isTeamManager = (member.type == NIMTeamMemberTypeOwner || member.type == NIMTeamMemberTypeManager);
    }

    //我发出去的消息并且不是发给我的电脑的消息，可以撤回
    //群消息里如果我是管理员可以撤回以上所有消息
    //: return (isFromMe && !isToMe) || isTeamManager;
    return (isFromMe && !isToMe) || isTeamManager;
}


//: + (NSString *)tipTitleFromMessageRevokeNotificationP2P:(NIMRevokeMessageNotification *)notification {
+ (NSString *)replyCounto:(NIMRevokeMessageNotification *)notification {
    //: NSString *fromUid = notification.messageFromUserId;
    NSString *fromUid = notification.messageFromUserId;
    //: BOOL fromMe = [fromUid isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
    BOOL fromMe = [fromUid isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
    //: return fromMe ? [PluginTulipOptimize getTextWithKey:@"message_helper_you"]: [PluginTulipOptimize getTextWithKey:@"message_opposite"];
    return fromMe ? [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&moduleLikelyHelper)]: [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&themeGiftedError)];//@"对方".user_localized;
}


//: + (BOOL)recentSessionIsMark:(NIMRecentSession *)recent type:(ThemeSystemVividWholeMarkType)type
+ (BOOL)recent:(NIMRecentSession *)recent brokerType:(ThemeSystemVividWholeMarkType)type
{
    //: NSDictionary *localExt = recent.localExt;
    NSDictionary *localExt = recent.localExt;
    //: NSString *key = [ThemeSystemVividWhole keyForMarkType:type];
    NSString *key = [ThemeSystemVividWhole jump:type];
    //: if ([localExt[key] isKindOfClass:[NSNumber class]] || [localExt[key] isKindOfClass:[NSString class]]) {
    if ([localExt[key] isKindOfClass:[NSNumber class]] || [localExt[key] isKindOfClass:[NSString class]]) {
        //: return [localExt[key] boolValue] == YES;
        return [localExt[key] boolValue] == YES;
    }
    //: return NO;
    return NO;
}

//: + (NSString *)tipOnMessageRevoked:(NIMRevokeMessageNotification *)notification
+ (NSString *)multiOpinionSumro:(NIMRevokeMessageNotification *)notification
{
    //: NSString *tip = @"";
    NSString *tip = @"";
    //: do {
    do {
        //: if (!notification || ![notification isKindOfClass:[NIMRevokeMessageNotification class]]) {
        if (!notification || ![notification isKindOfClass:[NIMRevokeMessageNotification class]]) {
            //: tip = [PluginTulipOptimize getTextWithKey:@"message_helper_you"];
            tip = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&moduleLikelyHelper)];//@"你".user_localized;
            //: break;
            break;
        }
        //: NIMSession *session = notification.session;
        NIMSession *session = notification.session;
        //: if (session.sessionType == NIMSessionTypeTeam || session.sessionType == NIMSessionTypeSuperTeam) {
        if (session.sessionType == NIMSessionTypeTeam || session.sessionType == NIMSessionTypeSuperTeam) {
            //: tip = [self tipTitleFromMessageRevokeNotificationTeam:notification];
            tip = [self littleLeagueTeam:notification];
            //: break;
            break;
        }
        //: tip = [self tipTitleFromMessageRevokeNotificationP2P:notification];
        tip = [self replyCounto:notification];
    //: } while (false);
    } while (false);

    //: NSString *msg = [NSString stringWithFormat:@"%@%@", tip,[PluginTulipOptimize getTextWithKey:@"retracted_message"]];
    NSString *msg = [NSString stringWithFormat:@"%@%@", tip,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&layoutForeverMessage)]];
    //: if (notification.postscript.length != 0) {
    if (notification.postscript.length != 0) {
        //: msg = [NSString stringWithFormat:@"%@ %@.%@:%@", tip,[PluginTulipOptimize getTextWithKey:@"retracted_message"],[PluginTulipOptimize getTextWithKey:@"postscript"], notification.postscript];
        msg = [NSString stringWithFormat:@"%@ %@.%@:%@", tip,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&layoutForeverMessage)],[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&componentSceneData)], notification.postscript];
    }
    //: return msg;
    return msg;
}


//: + (void)sessionWithInputURL:(NSURL*)inputURL
+ (void)man:(NSURL*)inputURL
                  //: outputURL:(NSURL*)outputURL
                  offLine_strong:(NSURL*)outputURL
               //: blockHandler:(void (^)(AVAssetExportSession*))handler
               equal:(void (^)(AVAssetExportSession*))handler
{
    //: AVURLAsset *asset = [AVURLAsset URLAssetWithURL:inputURL options:nil];
    AVURLAsset *asset = [AVURLAsset URLAssetWithURL:inputURL options:nil];
    //: AVAssetExportSession *session = [[AVAssetExportSession alloc] initWithAsset:asset
    AVAssetExportSession *session = [[AVAssetExportSession alloc] initWithAsset:asset
                                                                     //: presetName:AVAssetExportPresetMediumQuality];
                                                                     presetName:AVAssetExportPresetMediumQuality];
    //: session.outputURL = outputURL;
    session.outputURL = outputURL;
    //: session.outputFileType = AVFileTypeMPEG4; 
    session.outputFileType = AVFileTypeMPEG4; // 支持安卓某些机器的视频播放
    //: session.shouldOptimizeForNetworkUse = YES;
    session.shouldOptimizeForNetworkUse = YES;
    //: [session exportAsynchronouslyWithCompletionHandler:^(void)
    [session exportAsynchronouslyWithCompletionHandler:^(void)
     {
         //: handler(session);
         handler(session);
     //: }];
     }];
}


//: + (CGSize)getImageSizeWithImageOriginSize:(CGSize)originSize
+ (CGSize)little:(CGSize)originSize
                                  //: minSize:(CGSize)imageMinSize
                                  action:(CGSize)imageMinSize
                                  //: maxSize:(CGSize)imageMaxSiz
                                  flexibleAcross:(CGSize)imageMaxSiz
{
    //: CGSize size;
    CGSize size;
    //: NSInteger imageWidth = originSize.width ,imageHeight = originSize.height;
    NSInteger imageWidth = originSize.width ,imageHeight = originSize.height;
    //: NSInteger imageMinWidth = imageMinSize.width, imageMinHeight = imageMinSize.height;
    NSInteger imageMinWidth = imageMinSize.width, imageMinHeight = imageMinSize.height;
    //: NSInteger imageMaxWidth = imageMaxSiz.width, imageMaxHeight = imageMaxSiz.height;
    NSInteger imageMaxWidth = imageMaxSiz.width, imageMaxHeight = imageMaxSiz.height;
    //: if (imageWidth > imageHeight) 
    if (imageWidth > imageHeight) //宽图
    {
        //: size.height = imageMinHeight; 
        size.height = imageMinHeight; //高度取最小高度
        //: size.width = imageWidth * imageMinHeight / imageHeight;
        size.width = imageWidth * imageMinHeight / imageHeight;
        //: if (size.width > imageMaxWidth)
        if (size.width > imageMaxWidth)
        {
            //: size.width = imageMaxWidth;
            size.width = imageMaxWidth;
        }
    }
    //: else if(imageWidth < imageHeight)
    else if(imageWidth < imageHeight)//高图
    {
        //: size.width = imageMinWidth;
        size.width = imageMinWidth;
        //: size.height = imageHeight *imageMinWidth / imageWidth;
        size.height = imageHeight *imageMinWidth / imageWidth;
        //: if (size.height > imageMaxHeight)
        if (size.height > imageMaxHeight)
        {
            //: size.height = imageMaxHeight;
            size.height = imageMaxHeight;
        }
    }
    //: else
    else//方图
    {
        //: if (imageWidth > imageMaxWidth)
        if (imageWidth > imageMaxWidth)
        {
            //: size.width = imageMaxWidth;
            size.width = imageMaxWidth;
            //: size.height = imageMaxHeight;
            size.height = imageMaxHeight;
        }
        //: else if(imageWidth > imageMinWidth)
        else if(imageWidth > imageMinWidth)
        {
            //: size.width = imageWidth;
            size.width = imageWidth;
            //: size.height = imageHeight;
            size.height = imageHeight;
        }
        //: else
        else
        {
            //: size.width = imageMinWidth;
            size.width = imageMinWidth;
            //: size.height = imageMinHeight;
            size.height = imageMinHeight;
        }
    }
    //: return size;
    return size;
}


//: + (NSString *)resolveOnlineState:(NSString *)ext client:(NIMLoginClientType)client detail:(BOOL)detail
+ (NSString *)layerExist:(NSString *)ext confine:(NIMLoginClientType)client settleDeep:(BOOL)detail
{
    //: NSString *clientName = [self resolveOnlineClientName:client];
    NSString *clientName = [self capabilityName:client];
    //: NSString *state = [NSString stringWithFormat:@"%@ %@",clientName,[PluginTulipOptimize getTextWithKey:@"message_online"]];
    NSString *state = [NSString stringWithFormat:@"%@ %@",clientName,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&spacingAccomplishFormat)]];//@"在线".user_localized
    //: NSDictionary *dict = [ext nimkit_jsonDict];
    NSDictionary *dict = [ext remove];
    //: if (dict) {
    if (dict) {

        //: NSString *netState = [[HumorCozyOrganizerCollectionBeyond currentDevice] networkStatus:[dict jsonInteger:@"net_state"]];
        NSString *netState = [[HumorCozyOrganizerCollectionBeyond kickBackDevice] passage:[dict jsonInsideCount:StringFromBrandDearDisturbData(&screenAlbumSceneDevice)]];
        //: CoreKindredRunHolisticState onlineState = [dict jsonInteger:@"online_state"];
        CoreKindredRunHolisticState onlineState = [dict jsonInsideCount:StringFromBrandDearDisturbData(&featureDarkId)];
        //: switch (onlineState) {
        switch (onlineState) {
            //: case CoreKindredRunHolisticStateNormal:
            case CoreKindredRunHolisticStateNormal:
            {
                //: if (client == NIMLoginClientTypePC ||
                if (client == NIMLoginClientTypePC ||
                    //: client == NIMLoginClientTypeWeb ||
                    client == NIMLoginClientTypeWeb ||
                    //: client == NIMLoginClientTypemacOS)
                    client == NIMLoginClientTypemacOS)
                {
                    //桌面端不显示网络状态，只显示端
                    //: return [NSString stringWithFormat:@"%@ %@",clientName,[PluginTulipOptimize getTextWithKey:@"message_online"]];
                    return [NSString stringWithFormat:@"%@ %@",clientName,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&spacingAccomplishFormat)]];//@"在线".user_localized
                }
                //: else
                else
                {
                    //移动端在会话列表显示网络状态，在会话内（detail）优先显示端+网络状态
                    //: if (detail)
                    if (detail)
                    {
                        //: return [NSString stringWithFormat:@"%@ - %@ %@",clientName,netState,[PluginTulipOptimize getTextWithKey:@"message_online"]];
                        return [NSString stringWithFormat:@"%@ - %@ %@",clientName,netState,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&spacingAccomplishFormat)]];//@"在线".user_localized
                    }
                    //: else
                    else
                    {
                        //: return [NSString stringWithFormat:@"%@ %@",netState,[PluginTulipOptimize getTextWithKey:@"message_online"]];
                        return [NSString stringWithFormat:@"%@ %@",netState,[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&spacingAccomplishFormat)]];//@"在线".user_localized
                    }
                }
            }
            //: case CoreKindredRunHolisticStateBusy:
            case CoreKindredRunHolisticStateBusy:
                //: return [PluginTulipOptimize getTextWithKey:@"online_state_event_manager_on_line_busy"];
                return [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&spacingGlobeAbstractMessage)];//@"忙碌".user_localized;
            //: case CoreKindredRunHolisticStateLeave:
            case CoreKindredRunHolisticStateLeave:
                //: return [PluginTulipOptimize getTextWithKey:@"online_state_event_manager_off_line"];
                return [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&viewFactoryBondLogger)];//@"离开".user_localized;
            //: default:
            default:
                //: break;
                break;
        }
    }
    //: return state;
    return state;
}

//: + (NSString *)tipTitleFromMessageRevokeNotificationTeam:(NIMRevokeMessageNotification *)notification {
+ (NSString *)littleLeagueTeam:(NIMRevokeMessageNotification *)notification {
    //: NSString *tipTitle = @"";
    NSString *tipTitle = @"";

    //: do {
    do {
        //: NSString *fromUid = notification.messageFromUserId;
        NSString *fromUid = notification.messageFromUserId;
        //: NSString *operatorUid = notification.fromUserId;
        NSString *operatorUid = notification.fromUserId;
        //: BOOL revokeBySender = !operatorUid || [operatorUid isEqualToString:fromUid];
        BOOL revokeBySender = !operatorUid || [operatorUid isEqualToString:fromUid];
        //: BOOL fromMe = [fromUid isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
        BOOL fromMe = [fromUid isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];

        // 自己撤回自己的
        //: if (revokeBySender && fromMe) {
        if (revokeBySender && fromMe) {
            //: tipTitle = [PluginTulipOptimize getTextWithKey:@"message_helper_you"];
            tipTitle = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&moduleLikelyHelper)];//@"你".user_localized;
            //: break;
            break;
        }

        //: NIMSession *session = notification.session;
        NIMSession *session = notification.session;
        //: NovelHillConverterInspector *option = [[NovelHillConverterInspector alloc] init];
        NovelHillConverterInspector *option = [[NovelHillConverterInspector alloc] init];
        //: option.session = session;
        option.careful = session;
        //: RoundReportSheet *info = [[TowerTinyGranularLarge sharedKit] infoByUser:(revokeBySender ? fromUid : operatorUid) option:option];
        RoundReportSheet *info = [[TowerTinyGranularLarge basicDragKit] screenOption:(revokeBySender ? fromUid : operatorUid) byProduct:option];

        // 别人撤回自己的
        //: if (revokeBySender) {
        if (revokeBySender) {
            //: tipTitle = info.showName;
            tipTitle = info.showNumberro;
            //: break;
            break;
        }

        //: NIMTeamMember *member = nil;
        NIMTeamMember *member = nil;
        //: if (notification.session.sessionType == NIMSessionTypeTeam) {
        if (notification.session.sessionType == NIMSessionTypeTeam) {
            //: member = [[NIMSDK sharedSDK].teamManager teamMember:operatorUid inTeam:session.sessionId];
            member = [[NIMSDK sharedSDK].teamManager teamMember:operatorUid inTeam:session.sessionId];
        //: } else if (notification.session.sessionType == NIMSessionTypeSuperTeam) {
        } else if (notification.session.sessionType == NIMSessionTypeSuperTeam) {
            //: member = [[NIMSDK sharedSDK].superTeamManager teamMember:operatorUid inTeam:session.sessionId];
            member = [[NIMSDK sharedSDK].superTeamManager teamMember:operatorUid inTeam:session.sessionId];
        }
        // 被群主/管理员撤回的
        //: if (member.type == NIMTeamMemberTypeOwner) {
        if (member.type == NIMTeamMemberTypeOwner) {
            //: tipTitle = [[PluginTulipOptimize getTextWithKey:@"group_member_info_activity_team_creator"] stringByAppendingString:info.showName];
            tipTitle = [[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&layoutYearRobotText)] stringByAppendingString:info.showNumberro];//@"群主".user_localized
        }
        //: else if (member.type == NIMTeamMemberTypeManager) {
        else if (member.type == NIMTeamMemberTypeManager) {
            //: tipTitle = [[PluginTulipOptimize getTextWithKey:@"group_member_info_activity_team_admin"] stringByAppendingString:info.showName];
            tipTitle = [[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&commonFragmentUtility)] stringByAppendingString:info.showNumberro];//@"管理员".user_localized
        }
    //: } while (false);
    } while (false);

    //: return tipTitle;
    return tipTitle;
}

//: +(BOOL)isTheSameDay:(NSTimeInterval)currentTime compareTime:(NSDateComponents*)older
+(BOOL)container:(NSTimeInterval)currentTime fluctuation:(NSDateComponents*)older
{
    //: NSCalendarUnit currentComponents = (NSCalendarUnit)(NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitDay|NSCalendarUnitHour | NSCalendarUnitMinute);
    NSCalendarUnit currentComponents = (NSCalendarUnit)(NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitDay|NSCalendarUnitHour | NSCalendarUnitMinute);
    //: NSDateComponents *current = [[NSCalendar currentCalendar] components:currentComponents fromDate:[NSDate dateWithTimeIntervalSinceNow:currentTime]];
    NSDateComponents *current = [[NSCalendar currentCalendar] components:currentComponents fromDate:[NSDate dateWithTimeIntervalSinceNow:currentTime]];

    //: return current.year == older.year && current.month == older.month && current.day == older.day;
    return current.year == older.year && current.month == older.month && current.day == older.day;
}

//: + (NIMLoginClientType)resolveShowClientType:(NSArray *)senderClientTypes
+ (NIMLoginClientType)unsophisticatedType:(NSArray *)senderClientTypes
{
    //: NSArray *clients = @[@(NIMLoginClientTypePC),@(NIMLoginClientTypemacOS),@(NIMLoginClientTypeiOS),@(NIMLoginClientTypeAOS),@(NIMLoginClientTypeWeb),@(NIMLoginClientTypeWP)]; 
    NSArray *clients = @[@(NIMLoginClientTypePC),@(NIMLoginClientTypemacOS),@(NIMLoginClientTypeiOS),@(NIMLoginClientTypeAOS),@(NIMLoginClientTypeWeb),@(NIMLoginClientTypeWP)]; //显示优先级
    //: for (NSNumber *type in clients) {
    for (NSNumber *type in clients) {
        //: NIMLoginClientType client = type.integerValue;
        NIMLoginClientType client = type.integerValue;
        //: if ([senderClientTypes containsObject:@(client)]) {
        if ([senderClientTypes containsObject:@(client)]) {
            //: return client;
            return client;
        }
    }
    //: return NIMLoginClientTypeUnknown;
    return NIMLoginClientTypeUnknown;
}

//: +(NSString*)showTime:(NSTimeInterval) msglastTime showDetail:(BOOL)showDetail
+(NSString*)net:(NSTimeInterval) msglastTime conversation:(BOOL)showDetail
{
    //今天的时间
    //: NSDate * nowDate = [NSDate date];
    NSDate * nowDate = [NSDate date];
    //: NSDate * msgDate = [NSDate dateWithTimeIntervalSince1970:msglastTime];
    NSDate * msgDate = [NSDate dateWithTimeIntervalSince1970:msglastTime];
    //: NSString *result = nil;
    NSString *result = nil;
    //: NSCalendarUnit components = (NSCalendarUnit)(NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitDay|NSCalendarUnitWeekday|NSCalendarUnitHour | NSCalendarUnitMinute);
    NSCalendarUnit components = (NSCalendarUnit)(NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitDay|NSCalendarUnitWeekday|NSCalendarUnitHour | NSCalendarUnitMinute);
    //: NSDateComponents *nowDateComponents = [[NSCalendar currentCalendar] components:components fromDate:nowDate];
    NSDateComponents *nowDateComponents = [[NSCalendar currentCalendar] components:components fromDate:nowDate];
    //: NSDateComponents *msgDateComponents = [[NSCalendar currentCalendar] components:components fromDate:msgDate];
    NSDateComponents *msgDateComponents = [[NSCalendar currentCalendar] components:components fromDate:msgDate];

    //: NSInteger hour = msgDateComponents.hour;
    NSInteger hour = msgDateComponents.hour;

    //: result = [ThemeSystemVividWhole getPeriodOfTime:hour withMinute:msgDateComponents.minute];
    result = [ThemeSystemVividWhole body:hour stop:msgDateComponents.minute];
    //: if (hour > 12)
    if (hour > 12)
    {
        //: hour = hour - 12;
        hour = hour - 12;
    }
    //: if(nowDateComponents.day == msgDateComponents.day) 
    if(nowDateComponents.day == msgDateComponents.day) //同一天,显示时间
    {
        //: result = [[NSString alloc] initWithFormat:@"%@ %zd:%02d",result,hour,(int)msgDateComponents.minute];
        result = [[NSString alloc] initWithFormat:@"%@ %zd:%02d",result,hour,(int)msgDateComponents.minute];
    }
    //: else if(nowDateComponents.day == (msgDateComponents.day+1))
    else if(nowDateComponents.day == (msgDateComponents.day+1))//昨天
    {
        //: result = showDetail? [[NSString alloc] initWithFormat:@"%@%@ %zd:%02d",[PluginTulipOptimize getTextWithKey:@"yesterday"], result,hour,(int)msgDateComponents.minute] : [PluginTulipOptimize getTextWithKey:@"yesterday"];
        result = showDetail? [[NSString alloc] initWithFormat:@"%@%@ %zd:%02d",[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&kDisturbData)], result,hour,(int)msgDateComponents.minute] : [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&kDisturbData)];//昨天
    }
    //: else if(nowDateComponents.day == (msgDateComponents.day+2)) 
    else if(nowDateComponents.day == (msgDateComponents.day+2)) //前天
    {
        //: result = showDetail? [[NSString alloc] initWithFormat:@"%@%@ %zd:%02d",[PluginTulipOptimize getTextWithKey:@"before_yesterday"], result,hour,(int)msgDateComponents.minute] : [PluginTulipOptimize getTextWithKey:@"before_yesterday"];
        result = showDetail? [[NSString alloc] initWithFormat:@"%@%@ %zd:%02d",[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&featureAccomplishFormat)], result,hour,(int)msgDateComponents.minute] : [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&featureAccomplishFormat)];//@"前天";
    }
    //: else if([nowDate timeIntervalSinceDate:msgDate] < 7 * OnedayTimeIntervalValue)
    else if([nowDate timeIntervalSinceDate:msgDate] < 7 * commonUpEvent)//一周内
    {
        //: NSString *weekDay = [ThemeSystemVividWhole weekdayStr:msgDateComponents.weekday];
        NSString *weekDay = [ThemeSystemVividWhole numbererruptGround:msgDateComponents.weekday];
        //: result = showDetail? [weekDay stringByAppendingFormat:@"%@ %zd:%02d",result,hour,(int)msgDateComponents.minute] : weekDay;
        result = showDetail? [weekDay stringByAppendingFormat:@"%@ %zd:%02d",result,hour,(int)msgDateComponents.minute] : weekDay;
    }
    //: else
    else//显示日期
    {
        //: NSString *day = [NSString stringWithFormat:@"%zd-%zd-%zd", msgDateComponents.year, msgDateComponents.month, msgDateComponents.day];
        NSString *day = [NSString stringWithFormat:StringFromBrandDearDisturbData(&colorDiscourageDevice), msgDateComponents.year, msgDateComponents.month, msgDateComponents.day];
        //: result = showDetail? [day stringByAppendingFormat:@"%@ %zd:%02d",result,hour,(int)msgDateComponents.minute]:day;
        result = showDetail? [day stringByAppendingFormat:@"%@ %zd:%02d",result,hour,(int)msgDateComponents.minute]:day;
    }
    //: return result;
    return result;
}


//: + (NSDictionary *)dictByJsonData:(NSData *)data
+ (NSDictionary *)destination:(NSData *)data
{
    //: NSDictionary *dict = nil;
    NSDictionary *dict = nil;
    //: if ([data isKindOfClass:[NSData class]])
    if ([data isKindOfClass:[NSData class]])
    {
        //: NSError *error = nil;
        NSError *error = nil;
        //: dict = [NSJSONSerialization JSONObjectWithData:data
        dict = [NSJSONSerialization JSONObjectWithData:data
                                               //: options:0
                                               options:0
                                                 //: error:&error];
                                                 error:&error];
        //: if (error) {
        if (error) {
        }
    }
    //: return [dict isKindOfClass:[NSDictionary class]] ? dict : nil;
    return [dict isKindOfClass:[NSDictionary class]] ? dict : nil;
}

//: + (NSString *)resolveOnlineClientName:(NIMLoginClientType )client
+ (NSString *)capabilityName:(NIMLoginClientType )client
{
    //: NSDictionary *formats = @{
    NSDictionary *formats = @{
                              //: @(NIMLoginClientTypePC) : @"PC",
                              @(NIMLoginClientTypePC) : StringFromBrandDearDisturbData(&colorDirtyForwardHelper),
                              //: @(NIMLoginClientTypemacOS) : @"Mac",
                              @(NIMLoginClientTypemacOS) : StringFromBrandDearDisturbData(&layoutCrystalPlatform),
                              //: @(NIMLoginClientTypeiOS): @"iOS",
                              @(NIMLoginClientTypeiOS): StringFromBrandDearDisturbData(&componentBondFormat),
                              //: @(NIMLoginClientTypeAOS): @"Android",
                              @(NIMLoginClientTypeAOS): StringFromBrandDearDisturbData(&widgetPutWholeName),
                              //: @(NIMLoginClientTypeWeb): @"Web",
                              @(NIMLoginClientTypeWeb): StringFromBrandDearDisturbData(&viewSternPreference),
                              //: @(NIMLoginClientTypeWP) : @"WP"
                              @(NIMLoginClientTypeWP) : StringFromBrandDearDisturbData(&colorBoastMessage)
                             //: };
                             };

    //: NSString *format = [formats objectForKey:@(client)];
    NSString *format = [formats objectForKey:@(client)];
    //: return format? format : @"";
    return format? format : @"";
}

//: + (NSString *)formatAutoLoginMessage:(NSError *)error
+ (NSString *)group:(NSError *)error
{
    //: NSString *message = [NSString stringWithFormat:@"%@ %@",[PluginTulipOptimize getTextWithKey:@"login_failure"], error];
    NSString *message = [NSString stringWithFormat:@"%@ %@",[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&commonRedFormat)], error];//,@"自动登录失败".user_localized
    //: NSString *domain = error.domain;
    NSString *domain = error.domain;
    //: NSInteger code = error.code;
    NSInteger code = error.code;
    //: if ([domain isEqualToString:NIMLocalErrorDomain])
    if ([domain isEqualToString:NIMLocalErrorDomain])
    {
        //: if (code == NIMLocalErrorCodeAutoLoginRetryLimit)
        if (code == NIMLocalErrorCodeAutoLoginRetryLimit)
        {
            //: message = [PluginTulipOptimize getTextWithKey:@"please_try_again"];
            message = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&componentSceneFormat)];//@"自动登录错误次数超限，请检查网络后重试".user_localized;
        }
    }
    //: else if([domain isEqualToString:NIMRemoteErrorDomain])
    else if([domain isEqualToString:NIMRemoteErrorDomain])
    {
        //: if (code == NIMRemoteErrorCodeInvalidPass)
        if (code == NIMRemoteErrorCodeInvalidPass)
        {
            //: message = [PluginTulipOptimize getTextWithKey:@"wrong_password"];
            message = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&modulePermissionKey)];//@"密码错误".user_localized;
        }
        //: else if(code == NIMRemoteErrorCodeExist)
        else if(code == NIMRemoteErrorCodeExist)
        {
            //: message = [PluginTulipOptimize getTextWithKey:@"logged_another_device"];
            message = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&coreDarkChickenEvent)];//@"当前已经其他设备登录，请使用手动模式登录".user_localized;
        }
    }
    //: return message;
    return message;
}


//: + (BOOL)canMessageBeCanceled:(NIMMessage *)message
+ (BOOL)shelf:(NIMMessage *)message
{
    //: return [self canMessageBeRevoked:message] &&
    return [self power:message] &&
    //: message.deliveryState == NIMMessageDeliveryStateDelivering;
    message.deliveryState == NIMMessageDeliveryStateDelivering;
}


//: + (BOOL)canMessageBeRevoked:(NIMMessage *)message
+ (BOOL)power:(NIMMessage *)message
{
    //: BOOL canRevokeMessageByRole = [self canRevokeMessageByRole:message];
    BOOL canRevokeMessageByRole = [self independent:message];
    //: BOOL isDeliverFailed = !message.isReceivedMsg && message.deliveryState == NIMMessageDeliveryStateFailed;
    BOOL isDeliverFailed = !message.isReceivedMsg && message.deliveryState == NIMMessageDeliveryStateFailed;
    //: if (!canRevokeMessageByRole || isDeliverFailed) {
    if (!canRevokeMessageByRole || isDeliverFailed) {
        //: return NO;
        return NO;
    }
    //: id<NIMMessageObject> messageObject = message.messageObject;
    id<NIMMessageObject> messageObject = message.messageObject;
    //: if ([messageObject isKindOfClass:[NIMTipObject class]]
    if ([messageObject isKindOfClass:[NIMTipObject class]]
        //: || [messageObject isKindOfClass:[NIMNotificationObject class]]) {
        || [messageObject isKindOfClass:[NIMNotificationObject class]]) {
        //: return NO;
        return NO;
    }
    //: if ([messageObject isKindOfClass:[NIMCustomObject class]])
    if ([messageObject isKindOfClass:[NIMCustomObject class]])
    {
        //: id<FocalUnderConfigureDisplay> attach = (id<FocalUnderConfigureDisplay>)[(NIMCustomObject *)message.messageObject attachment];
        id<FocalUnderConfigureDisplay> attach = (id<FocalUnderConfigureDisplay>)[(NIMCustomObject *)message.messageObject attachment];
        //: return [attach canBeRevoked];
        return [attach jungle];
    }
    //: return YES;
    return YES;
}

//: +(NSString*)weekdayStr:(NSInteger)dayOfWeek
+(NSString*)numbererruptGround:(NSInteger)dayOfWeek
{
    //: static NSDictionary *daysOfWeekDict = nil;
    static NSDictionary *daysOfWeekDict = nil;
    //: daysOfWeekDict = @{@(1):[PluginTulipOptimize getTextWithKey:@"Sunday"],//@"星期日",
    daysOfWeekDict = @{@(1):[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&coreOrientationEvent)],//@"星期日",
                       //: @(2):[PluginTulipOptimize getTextWithKey:@"Monday"],//@"星期一",
                       @(2):[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&featureNeedMessage)],//@"星期一",
                       //: @(3):[PluginTulipOptimize getTextWithKey:@"Tuesday"],//@"星期二",
                       @(3):[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&appCurrentDevice)],//@"星期二",
                       //: @(4):[PluginTulipOptimize getTextWithKey:@"Wednesday"],//@"星期三",
                       @(4):[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&viewDarkTitle)],//@"星期三",
                       //: @(5):[PluginTulipOptimize getTextWithKey:@"Thursday"],//@"星期四",
                       @(5):[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&viewDictionKey)],//@"星期四",
                       //: @(6):[PluginTulipOptimize getTextWithKey:@"Friday"],//@"星期五",
                       @(6):[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&commonBoastArrowPreference)],//@"星期五",
                       //: @(7):[PluginTulipOptimize getTextWithKey:@"Saturday"]};
                       @(7):[PluginTulipOptimize richness:StringFromBrandDearDisturbData(&styleHireKey)]};//@"星期六",};
    //: return [daysOfWeekDict objectForKey:@(dayOfWeek)];
    return [daysOfWeekDict objectForKey:@(dayOfWeek)];
}

//: + (BOOL)canMessageBeForwarded:(NIMMessage *)message
+ (BOOL)polo:(NIMMessage *)message
{
    //: if (!message.isReceivedMsg && message.deliveryState == NIMMessageDeliveryStateFailed) {
    if (!message.isReceivedMsg && message.deliveryState == NIMMessageDeliveryStateFailed) {
        //: return NO;
        return NO;
    }
    //: id<NIMMessageObject> messageObject = message.messageObject;
    id<NIMMessageObject> messageObject = message.messageObject;
    //: if ([messageObject isKindOfClass:[NIMCustomObject class]])
    if ([messageObject isKindOfClass:[NIMCustomObject class]])
    {
        //: id<FocalUnderConfigureDisplay> attach = (id<FocalUnderConfigureDisplay>)[(NIMCustomObject *)message.messageObject attachment];
        id<FocalUnderConfigureDisplay> attach = (id<FocalUnderConfigureDisplay>)[(NIMCustomObject *)message.messageObject attachment];
        //: return [attach canBeForwarded];
        return [attach be];
    }
    //: if ([messageObject isKindOfClass:[NIMNotificationObject class]]) {
    if ([messageObject isKindOfClass:[NIMNotificationObject class]]) {
        //: return NO;
        return NO;
    }
    //: if ([messageObject isKindOfClass:[NIMTipObject class]]) {
    if ([messageObject isKindOfClass:[NIMTipObject class]]) {
        //: return NO;
        return NO;
    }
    //: return YES;
    return YES;
}

//: + (NSString *)getPeriodOfTime:(NSInteger)time withMinute:(NSInteger)minute
+ (NSString *)body:(NSInteger)time stop:(NSInteger)minute
{
    //: NSInteger totalMin = time *60 + minute;
    NSInteger totalMin = time *60 + minute;
    //: NSString *showPeriodOfTime = @"";
    NSString *showPeriodOfTime = @"";
    //: if (totalMin > 0 && totalMin <= 5 * 60)
    if (totalMin > 0 && totalMin <= 5 * 60)
    {
        //: showPeriodOfTime = [PluginTulipOptimize getTextWithKey:@"wee_hours"];
        showPeriodOfTime = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&componentSmoothKey)];//@"凌晨".user_localized;
    }
    //: else if (totalMin > 5 * 60 && totalMin < 12 * 60)
    else if (totalMin > 5 * 60 && totalMin < 12 * 60)
    {
        //: showPeriodOfTime = [PluginTulipOptimize getTextWithKey:@"day_am"];
        showPeriodOfTime = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&widgetRecordAvoidTimer)];//@"上午".user_localized;
    }
    //: else if (totalMin >= 12 * 60 && totalMin <= 18 * 60)
    else if (totalMin >= 12 * 60 && totalMin <= 18 * 60)
    {
        //: showPeriodOfTime = [PluginTulipOptimize getTextWithKey:@"day_pm"];
        showPeriodOfTime = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&layoutFormatKey)];//@"下午".user_localized;
    }
    //: else if ((totalMin > 18 * 60 && totalMin <= (23 * 60 + 59)) || totalMin == 0)
    else if ((totalMin > 18 * 60 && totalMin <= (23 * 60 + 59)) || totalMin == 0)
    {
        //: showPeriodOfTime = [PluginTulipOptimize getTextWithKey:@"day_night"];
        showPeriodOfTime = [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&componentCombinedAlert)];//@"晚上".user_localized;
    }
    //: return showPeriodOfTime;
    return showPeriodOfTime;
}

//: + (NSDictionary *)dictByJsonString:(NSString *)jsonString
+ (NSDictionary *)shareFor:(NSString *)jsonString
{
    //: if (!jsonString.length) {
    if (!jsonString.length) {
        //: return nil;
        return nil;
    }
    //: NSData *data = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
    NSData *data = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
    //: return [ThemeSystemVividWhole dictByJsonData:data];
    return [ThemeSystemVividWhole destination:data];
}


//: + (NSString *)onlineState:(NSString *)userId detail:(BOOL)detail
+ (NSString *)objection:(NSString *)userId circuit:(BOOL)detail
{
    //: NSString *state = @"";
    NSString *state = @"";
    //: if (![MigrateLegacyStartDecompress sharedManager] || [[NIMSDK sharedSDK].loginManager.currentAccount isEqualToString:userId])
    if (![MigrateLegacyStartDecompress commonSumManagingDirector] || [[NIMSDK sharedSDK].loginManager.currentAccount isEqualToString:userId])
    {
        //没有开启订阅服务或是自己  不显示在线状态
        //: return state;
        return state;
    }

    //: NSDictionary *dict = [[MigrateLegacyStartDecompress sharedManager] eventsForType:NIMSubscribeSystemEventTypeOnline];
    NSDictionary *dict = [[MigrateLegacyStartDecompress commonSumManagingDirector] clean:NIMSubscribeSystemEventTypeOnline];
    //: NIMSubscribeEvent *event = [dict objectForKey:userId];
    NIMSubscribeEvent *event = [dict objectForKey:userId];
    //: NIMSubscribeOnlineInfo *info = event.subscribeInfo;
    NIMSubscribeOnlineInfo *info = event.subscribeInfo;
    //: if ([info isKindOfClass:[NIMSubscribeOnlineInfo class]] && info.senderClientTypes.count)
    if ([info isKindOfClass:[NIMSubscribeOnlineInfo class]] && info.senderClientTypes.count)
    {
        //: NIMLoginClientType client = [self resolveShowClientType:info.senderClientTypes];
        NIMLoginClientType client = [self unsophisticatedType:info.senderClientTypes];

        //: switch (event.value) {
        switch (event.value) {
            //: case ArmatureFactoryArchiveBehindValueOnlineExt:
            case ArmatureFactoryArchiveBehindValueOnlineExt:
            //: case NIMSubscribeEventOnlineValueLogin:
            case NIMSubscribeEventOnlineValueLogin:
            //: case NIMSubscribeEventOnlineValueLogout:
            case NIMSubscribeEventOnlineValueLogout:
            //: case NIMSubscribeEventOnlineValueDisconnected:
            case NIMSubscribeEventOnlineValueDisconnected:
            {
                //: NSString *ext = [event ext:client];
                NSString *ext = [event ext:client];
                //: state = [self resolveOnlineState:ext client:client detail:detail];
                state = [self layerExist:ext confine:client settleDeep:detail];
            }
                //: break;
                break;

            //: default:
            default:
            {
                //: NSString *clientName = [self resolveOnlineClientName:client];
                NSString *clientName = [self capabilityName:client];
                //: state = [NSString stringWithFormat:@"%@ %@", clientName, [PluginTulipOptimize getTextWithKey:@"message_online"]];
                state = [NSString stringWithFormat:@"%@ %@", clientName, [PluginTulipOptimize richness:StringFromBrandDearDisturbData(&spacingAccomplishFormat)]];
                //: break;
                break;
            }
        }
    }
    //: else
    else
    {
        //: state = @"离线".user_localized;
        state = StringFromBrandDearDisturbData(&kResponsePath).underMethod;
    }
    //: return state;
    return state;
}

//: +(NSDateComponents*)stringFromTimeInterval:(NSTimeInterval)messageTime components:(NSCalendarUnit)components
+(NSDateComponents*)color:(NSTimeInterval)messageTime remoteCalendarUnit:(NSCalendarUnit)components
{
    //: NSDateComponents *dateComponents = [[NSCalendar currentCalendar] components:components fromDate:[NSDate dateWithTimeIntervalSince1970:messageTime]];
    NSDateComponents *dateComponents = [[NSCalendar currentCalendar] components:components fromDate:[NSDate dateWithTimeIntervalSince1970:messageTime]];
    //: return dateComponents;
    return dateComponents;
}

//: + (NSString *)keyForMarkType:(ThemeSystemVividWholeMarkType)type
+ (NSString *)jump:(ThemeSystemVividWholeMarkType)type
{
    //: static NSDictionary *keys;
    static NSDictionary *keys;
    //: static dispatch_once_t onceToken;
    static dispatch_once_t onceToken;
    //: _dispatch_once(&onceToken, ^{
    _dispatch_once(&onceToken, ^{
        //: keys = @{
        keys = @{
                 //: @(ThemeSystemVividWholeMarkTypeAt) : @"ThemeSystemVividWholeAtMark",
                 @(ThemeSystemVividWholeMarkTypeAt) : StringFromBrandDearDisturbData(&spacingEnvelopValue),
                 //: @(ThemeSystemVividWholeMarkTypeTop) : @"ThemeSystemVividWholeTopMark"
                 @(ThemeSystemVividWholeMarkTypeTop) : StringFromBrandDearDisturbData(&layoutJungleError)
                 //: };
                 };
    //: });
    });
    //: return [keys objectForKey:@(type)];
    return [keys objectForKey:@(type)];
}

//: + (void)removeRecentSessionMark:(NIMSession *)session type:(ThemeSystemVividWholeMarkType)type
+ (void)evidence:(NIMSession *)session within:(ThemeSystemVividWholeMarkType)type
{
    //: NIMRecentSession *recent = [[NIMSDK sharedSDK].conversationManager recentSessionBySession:session];
    NIMRecentSession *recent = [[NIMSDK sharedSDK].conversationManager recentSessionBySession:session];
    //: if (recent) {
    if (recent) {
        //: NSMutableDictionary *localExt = [recent.localExt mutableCopy];
        NSMutableDictionary *localExt = [recent.localExt mutableCopy];
        //: NSString *key = [ThemeSystemVividWhole keyForMarkType:type];
        NSString *key = [ThemeSystemVividWhole jump:type];
        //: [localExt removeObjectForKey:key];
        [localExt removeObjectForKey:key];
        //: [[NIMSDK sharedSDK].conversationManager updateRecentLocalExt:localExt recentSession:recent];
        [[NIMSDK sharedSDK].conversationManager updateRecentLocalExt:localExt recentSession:recent];
    }
}

//: @end
@end
//: __SAVE__ ignore_string [554.5]

Byte *BrandDearDisturbDataToByte(BrandDearDisturbData *data) {
    if (data->currentCrystal < 140) return data->badDestination;
    for (int i = 0; i < data->controlInherent; i++) {
        data->badDestination[i] ^= data->feasibleEntry;
    }
    data->badDestination[data->controlInherent] = 0;
    data->currentCrystal = 86;
	if (data->controlInherent >= 3) {
		data->westernPraise = data->badDestination[0];
		data->examineion = data->badDestination[1];
		data->personStern = data->badDestination[2];
	}
    return data->badDestination;
}

NSString *StringFromBrandDearDisturbData(BrandDearDisturbData *data) {
    return [NSString stringWithUTF8String:(char *)BrandDearDisturbDataToByte(data)];
}
